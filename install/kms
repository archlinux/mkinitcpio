#!/usr/bin/env bash

build() {
    # AGP and DRM modules for GPUs
    map add_checked_modules '/drivers/char/agp/' '/drivers/gpu/drm/'

    # modules that may implement the privacy screen interface
    add_checked_modules '/drivers/platform/.*(acpi|privacy|wmi)'
}

help() {
    cat <<HELPEOF
Adds KMS and privacy screen drivers to the initramfs image. To minimize the
modules in the image, add the autodetect hook too.
HELPEOF
}
